import { Code } from 'components/om/Code';
import { CodeTabs } from 'components/om/CodeTabs';

# Примеры промтов

В разделе [Основы промтов](basics) был представлен ряд простых примеров обращения к большой языковой модели.

Теперь рассмотрим другие варианты использования промтов для решения различных задач и попутно изучим ключевые концепции — эффективнее всего осваивать новое на примерах.

В этом разделе мы составим промты для следующих типов задач:

- [Автоматическое реферирование](#автоматическое-реферирование)
- [Извлечение информации](#извлечение-информации)
- [Вопросно-ответные системы](#вопросно-ответные-системы)
- [Анализ тональности текста](#анализ-тональности-текста)
- [Создание диалоговых систем](#создание-диалоговых-систем)
- [Генерация программного кода](#генерация-программного-кода)
- [Задачи на логику](#задачи-на-логику)

-----

## Автоматическое реферирование

Одной из стандартных задач обработки текста на естественном языке (Natural Language Processing, NLP) является автоматическое реферирование, или автореферирование, — создание краткой версии текста. Автоматическое реферирование имеет множество разновидностей и способов реализации; решение этой задачи востребовано во многих сферах деятельности. Превращение статей и описаний в краткие и легко читаемые резюме — перспективное направление для использования больших языковых моделей. Рассмотрим, как составить промт для решения такой задачи.

Допустим, мы хотим узнать, что такое антибиотики. Используем промт:

<Code filename="Промт">{"Что такое антибиотики?\n\nОтвет:"}</Code>

export function Results7() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "Антибиотики — это препараты, которые уничтожают бактерии. При этом они не действуют на вирусы и грибы. Они относятся к группе лекарственных средств, которые называются антимикробными (от греческого «анти» - против; 'микро' – малый, мало). Кроме того, антибиотики называют антибактериальными (от латинского antibakteria), что значит принцип действия антибиотиков заключается в том, чтобы разрушать жизненно необходимые для бактерий компоненты или угнетать их способность к делениям. \n\nЭти препараты используются в противобактериальном лечении инфекционных и неинфекционных болезней.\n\n< ... >"},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "это лекарственные препараты, которые подавляют рост и размножение бактерий (бактерицидный эффект). Применяются они для профилактики инфекционных заболеваний. Но если заболевание уже произошло, то с помощью антибиотиков лечат его течение. Антибиотики бывают разных групп и действуют на разные бактерии. Одни из них губительно воздействуют на болезнетворные микроорганизмы, другие помогают организму самому справиться с болезнью.\n\n< ... >"},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Антибиотики - это класс химических соединений, которые используются для борьбы с бактериальными инфекциями. Они являются медикаментами, способными убивать или замедлять рост бактерий, что позволяет организму бороться с инфекцией и восстанавливаться. Антибиотики могут быть назначены врачом для лечения различных заболеваний, вызванных бактериальными патогенами, такими как бактериальные инфекции дыхательных путей, мочевыводящих путей, кожи, желудочно-кишечного тракта и другие. Важно использовать антибиотики только по назначению врача и следовать рекомендациям по дозировке и длительности приема, чтобы предотвратить развитие резистентности бактерий к этим препаратам."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Антибиотики — это лекарства, используемые для лечения инфекций, вызванных бактериями. Они работают, уничтожая бактерии или останавливая их размножение, но не эффективны против вирусных инфекций. Существует много различных типов антибиотиков, каждый из которых эффективен против определенных видов бактерий. Неправильное использование антибиотиков может привести к устойчивости бактерий к этим препаратам, что является серьезной глобальной проблемой здравоохранения."},
        {tab: 'GigaChat', name: 'Результат', code: "Антибиотики — это лекарственные препараты, которые используются для борьбы с инфекциями, вызванными бактериями. Они работают, уничтожая или замедляя рост бактерий, что помогает организму справиться с инфекцией. Однако, антибиотики не эффективны против вирусов и других микроорганизмов, поэтому их следует использовать только при наличии бактериальной инфекции."},
    ]
    return <CodeTabs list={list} />;
}

<Results7 />

`«Ответ:»` — это специальное оформление промта, которое используется для получения ответа на вопрос. Так мы сообщаем модели о том, что в результате ожидается ответ. Для этого примера польза оформления не очевидна, но позже мы рассмотрим, на что оно влияет.

Предположим, что в ответе слишком много информации и мы хотим получить ее резюме. Попросим модель изложить содержание текста одним предложением:

export function Results8() {
    const list = [
        {tab: 'Llama 2 13B', list: [
            {name: 'Промт', code: "Объясни содержание текста одним предложением.\n\nТекст: Антибиотики — это препараты, которые уничтожают бактерии. При этом они не действуют на вирусы и грибы. Они относятся к группе лекарственных средств, которые называются антимикробными (от греческого «анти» - против; 'микро' – малый, мало). Кроме того, антибиотики называют антибактериальными (от латинского antibakteria), что значит принцип действия антибиотиков заключается в том, чтобы разрушать жизненно необходимые для бактерий компоненты или угнетать их способность к делениям. \n\nЭти препараты используются в противобактериальном лечении инфекционных и неинфекционных болезней.\n\nОтвет:"},
            {name: 'Результат', code: "Текст можно объяснить следующим предложением: \"Антибиотики — это препараты, которые уничтожают бактерии\"."},
        ]},
        {tab: 'ruGPT-3.5 13B', list: [
            {name: 'Промт', code: "Объясни содержание текста одним предложением.\n\nАнтибиотики - это лекарственные препараты, которые подавляют рост и размножение бактерий (бактерицидный эффект). Применяются они для профилактики инфекционных заболеваний. Но если заболевание уже произошло, то с помощью антибиотиков лечат его течение. Антибиотики бывают разных групп и действуют на разные бактерии. Одни из них губительно воздействуют на болезнетворные микроорганизмы, другие помогают организму самому справиться с болезнью.\n\nОтвет:"},
            {name: 'Результат', code: "В тексте приведено описание действия антимикробных лекарств."},
        ]},
        {tab: 'ChatGPT 3.5', list: [
            {name: 'Промт', code: "Объясни содержание текста одним предложением.\n\nТекст: Антибиотики - это класс химических соединений, которые используются для борьбы с бактериальными инфекциями. Они являются медикаментами, способными убивать или замедлять рост бактерий, что позволяет организму бороться с инфекцией и восстанавливаться. Антибиотики могут быть назначены врачом для лечения различных заболеваний, вызванных бактериальными патогенами, такими как бактериальные инфекции дыхательных путей, мочевыводящих путей, кожи, желудочно-кишечного тракта и другие. Важно использовать антибиотики только по назначению врача и следовать рекомендациям по дозировке и длительности приема, чтобы предотвратить развитие резистентности бактерий к этим препаратам.\n\nОтвет:"},
            {name: 'Результат', code: "Текст объясняет, что антибиотики - это лекарства, которые убивают или замедляют рост бактерий, используются для лечения бактериальных инфекций и должны применяться только по назначению врача, чтобы избежать развития резистентности бактерий."},
        ]},
        {tab: 'ChatGPT 4', list: [
            {name: 'Промт', code: "Объясни содержание текста одним предложением.\n\nТекст: Антибиотики — это лекарства, используемые для лечения инфекций, вызванных бактериями. Они работают, уничтожая бактерии или останавливая их размножение, но не эффективны против вирусных инфекций. Существует много различных типов антибиотиков, каждый из которых эффективен против определенных видов бактерий. Неправильное использование антибиотиков может привести к устойчивости бактерий к этим препаратам, что является серьезной глобальной проблемой здравоохранения.\n\nОтвет:"},
            {name: 'Результат', code: "Антибиотики — это лекарства для лечения бактериальных инфекций, неэффективные против вирусов, и их неправильное использование может вызвать устойчивость бактерий, представляющую серьезную угрозу здоровью."},
        ]},
        {tab: 'GigaChat', list: [
            {name: 'Промт', code: "Объясни содержание текста одним предложением.\n\n\Текст: Антибиотики — это лекарственные препараты, которые используются для борьбы с инфекциями, вызванными бактериями. Они работают, уничтожая или замедляя рост бактерий, что помогает организму справиться с инфекцией. Однако, антибиотики не эффективны против вирусов и других микроорганизмов, поэтому их следует использовать только при наличии бактериальной инфекции.\n\n\Ответ:"},
            {name: 'Результат', code: "Текст объясняет, что такое антибиотики и как они помогают бороться с инфекциями, но предупреждает о том, что они неэффективны против вирусов и других микроорганизмов."},
        ]},
    ]
    return <CodeTabs list={list} />;
}

<Results8 />

Точность результата сейчас оценивать не будем, просто отметим, что мы получили обобщение абзаца в одном предложении. При написании инструкции можно проявить больше изобретательности, но оставим подробности на потом. Можете попробовать свои варианты промтов и проверить, что получится.

-----

## Извлечение информации

Помимо генерации текста, большие языковые модели могут решать и другие задачи по обработке текстов на естественном языке.

Рассмотрим пример промта для извлечения информации из определенного абзаца.

<Code filename="Промт">{"Текст: Учащийся должен приобрести навыки письменного и устного перевода газетных произведений. Он должен глубоко разобраться в жанровых особенностях, стилистических приемах, принципах сочетания фактологии, аналитики и экспрессии в газетном произведении, в принципах использования различных средств экспрессии. Здесь значительное место принадлежит упражнениям по переводу (на родной язык и с родного, письменному и устному), творческим стилистическим изложениям, творческим сочинениям публицистического характера, подготовленным устным выступлениям и т. д.\nЗадача: какие характеристики произведений упомянуты в тексте?\nОтвет:"}</Code>

export function Results9() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "1) жанр; 2) стиль; 3) приемы сочетания фактологической части с аналитической; 4) приемы сочетания фактологической части с эмоционально-экспрессивной.\n\n< ... >"},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "1) жанр; 2) стиль; 3) композиция; 4) тема, идея произведения."},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "В тексте упомянуты следующие характеристики произведений:\n\n1. Навыки письменного и устного перевода газетных произведений.\n2. Жанровые особенности.\n3. Стилистические приемы.\n4. Принципы сочетания фактологии, аналитики и экспрессии в газетном произведении.\n5. Принципы использования различных средств экспрессии.\n6. Упражнения по переводу (на родной язык и с родного, письменному и устному).\n7. Творческие стилистические изложения.\n8. Творческие сочинения публицистического характера.\n9. Подготовленные устные выступления и другие подобные активности.\n"},
        {tab: 'ChatGPT 4', name: 'Результат', code: "В тексте упомянуты следующие характеристики газетных произведений:\n\n1. Жанровые особенности - указание на то, что студент должен понимать различия между жанрами газетных произведений.\n2. Стилистические приемы - означает, что студент должен быть знаком с техниками, которые используются для придания тексту определенного стиля.\n3. Сочетание фактологии, аналитики и экспрессии - относится к умению правильно смешивать фактическую информацию, аналитический контент и выразительные элементы.\n4. Принципы использования различных средств экспрессии - подразумевает владение разнообразными способами выразительного представления информации.\n\nЭти характеристики являются ключевыми для понимания и перевода газетных произведений, а также для создания публицистических текстов и выступлений."},
        {tab: 'GigaChat', name: 'Результат', code: "В тексте упоминаются следующие характеристики произведений: жанровые особенности, стилистические приемы, принципы сочетания фактологии, аналитики и экспрессии, использование различных средств экспрессии. Также говорится о необходимости приобретения навыков письменного и устного перевода, а также о творческих стилистических изложениях, творческих сочинениях публицистического характера и подготовленных устных выступлениях."},
    ]
    return <CodeTabs list={list} />;
}

<Results9 />

ChatGPT 4 справился с заданием, в ответах Llama 2 и ruGPT-3.5 есть неточности, а вот ChatGPT 3.5 и GigaChat нагенерировали много лишней информации.

К этому моменту должно было стать очевидным: чтобы попросить модель выполнить задачу, нужно просто сказать ей, что делать. Это суперспособность больших языковых моделей, которую разработчики продуктов на базе искусственного интеллекта используют для создания эффективных решений, предоставляющих пользователям новый опыт взаимодействия с технологиями.

Текст примера: Васильева А.&thinsp;Н. Газетно-публицистический стиль. Курс лекций по стилистике русского языка для филологов. — М.: «Русский
язык», 1982, 198 с. — С. 5.

-----

## Вопросно-ответные системы

Лучший способ получить от модели ответ на конкретный вопрос — усовершенствовать оформление промта. Как мы уже знаем, в промте могут использоваться различные компоненты: инструкции, контекст, входные данные, описание формата выходных данных. Они не являются обязательными, но их использование считается хорошей практикой, поскольку чем конкретнее инструкция, тем лучше будет результат.

Рассмотрим более четко структурированный промт.

<Code filename="Промт">{"Ответьте на вопрос, используя приведенный ниже контекст. Отвечайте коротко. Если не уверены в ответе, отвечайте \"Не уверен\".\n\n\Контекст: Особенно интересны богатейшие красные тона, полученные при помощи меди для смальт, называемых мозаичистами «скарцетами» и «лаками». Изготовление их требует очень большого уменья и даже сейчас далеко не всегда удается. Медь очень широко использована в работах Ломоносова также для зеленых и бирюзовых оттенков. Современные нам знатоки мозаичного искусства очень высоко расценивают полихромные качества ломоносовских смальт, и многие считают, что таких замечательных зеленых и красных оттенков никто не достигал ни до, ни после Ломоносова.\n\nВопрос: Какой элемент использовался для получения красного цвета?\n\nОтвет:"}</Code>

export function Results10() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "медь"},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "Для получения красного цвета Ломоносовым применялась медь."},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Медь была использована для получения красного цвета."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Медь."},
        {tab: 'GigaChat', name: 'Результат', code: "Медь."},
    ]
    return <CodeTabs list={list} />;
}

<Results10 />

Правильно.

Источник контекста: Качалов Н.&thinsp;Н. Стекло. — М.: Издательство Академии наук СССР, 1959, 465 с. — С. 290.

-----

## Анализ тональности текста

До сих пор мы использовали простые инструкции для выполнения задачи. Хорошие инструкции важны, но для решения более сложных задач их будет недостаточно. Придется подумать о контексте и о других компонентах промта, таких как `входные данные` или `примеры`.

Попробуем показать их использование на примере задачи по анализу тональности текста.

<Code filename="Промт">{"Определите настроение текста: нейтральное, негативное или позитивное.\n\nТекст: Мне кажется, еда была нормальной.\n\nОтвет:"}</Code>

export function Results11() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "Нейтральный"},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "Нейтральное.\n\n< ... >"},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Настроение текста: нейтральное."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Настроение данного текста можно охарактеризовать как нейтральное. Фраза \"Мне кажется, еда была нормальной\" не выражает ни ярко выраженного положительного, ни отрицательного отношения, а скорее указывает на умеренную, без особых эмоций оценку качества еды."},
        {tab: 'GigaChat', name: 'Результат', code: "Настроение текста можно определить как нейтральное. В тексте нет ярко выраженных эмоций или оценок, которые могли бы указывать на негативное или позитивное отношение к еде. Автор просто говорит о том, что еда была нормальной, без каких-либо эмоциональных оттенков."},
    ]
    return <CodeTabs list={list} />;
}

<Results11 />

Мы попросили определить настроение текста, и Llama 2 ответила `«Нейтральный»` — верно. Модель ruGPT-3.5 тоже ответила верно, а затем продолжила генерацию. GigaChat и обе версии ChatGPT и также дали правильный ответ, но в развернутом виде.

Теперь предположим, что нам нужно получить метку в строго заданном виде. Например, чтобы вместо `Нейтральное` выдавалось `нейтральное`. Как этого добиться? Есть несколько способов. Здесь важна конкретика, поэтому чем больше информации мы предоставим в промте, тем лучше будет результат.

Попробуем добавить примеры правильного поведения:

<Code filename="Промт">{"Определите настроение текста: нейтральное, негативное или позитивное.\n\nТекст: Мне кажется, отпуск был неплохим.\nНастроение: нейтральное\n\nТекст: Мне кажется, еда была неплохой.\nНастроение:"}</Code>

export function Results12() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "нейтральное\n\n< ... >"},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "нейтральное\n\n< ... >"},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "нейтральное"},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Настроение: нейтральное"},
        {tab: 'GigaChat', name: 'Результат', code: "нейтральное"},
    ]
    return <CodeTabs list={list} />;
}

<Results12 />

Отлично! На этот раз в большинстве ответов мы получили метку в правильной форме — `нейтральное`, как и хотели. Похоже, что пример, приведенный в промте, помог сформировать нужные выходные данные.

Чтобы понять, почему точность так важна, ознакомьтесь со следующим примером и найдите, что в нем не так:

<Code filename="Промт">{"Определите настроение текста как нитральное, негативное или позитивное.\n\nТекст: Мне кажется, отпуск был неплохим.\nНастроение:"}</Code>

export function Results13() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "нейтрально\n\n\< ... >"},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "нейтральное\n\n\< ... >"},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Настроение текста: позитивное."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Настроение текста \"Мне кажется, отпуск был неплохим\" можно определить как нейтральное. Фраза выражает умеренно положительное восприятие, не переходящее в ярко выраженный энтузиазм."},
        {tab: 'GigaChat', name: 'Результат', code: "Позитивное."},
    ]
    return <CodeTabs list={list} />;
}

<Results13 />

В чем здесь проблема? Подсказка: придуманная метка «нитральное» полностью игнорируется. Вместо этого Llama 2, ruGPT-3.5 и ChatGPT 4 выдают `нейтрально` и `нейтральное`, а ChatGPT 3.5 и GigaChat, похоже, вообще не воспринимают это слово как метку и определяют настроение текста как позитивное. Но давайте предположим, что нам действительно нужно получить `нитральное`. Как для этого изменить промт? Может, попробовать сделать описание меток или добавить больше примеров? В следующих разделах мы рассмотрим несколько идей.

-----

## Создание диалоговых систем

Одна из наиболее интересных задач при разработке промтов — создание инструкций для языковой модели, в которых описываются ожидания от ее поведения, ставятся цели и характеризуются личностные черты. Подобные инструкции особенно полезны при разработке диалоговых систем, таких как чат-боты для службы поддержки клиентов.

Попробуем создать диалоговую систему, способную давать ответы в техническом и научном стиле. Обратите внимание, что мы в инструкции в явном виде указываем модели, как ей себя вести. Это иногда называют *ролевой промт*.

<Code filename="Промт">{"Это будет диалог с искусственным интеллектом (ИИ) — помощником ученого. Тон помощника — технический и научный.\n\nЧеловек: Здравствуйте, кто вы?\nИИ: Приветствую! Я искусственный интеллект — помощник ученого. Что я могу сегодня для вас сделать?\n\nЧеловек: Не могли бы вы рассказать мне о возникновении черных дыр?\nИИ:"}</Code>

export function Results14() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "Черные дыры представляют собой объекты в космосе, которые настолько сильно гравитируют, что всё, включая свет, не может покинуть их. Они известны как одни из самых мощных природных элементов во Вселенной - они создаются под действием огромных масс или больших скоростей, таких как во время взрыва суперновой или слияния двух чёрных дыр. В 2017 году астрономы обнаружили свидетельства того, что черные дыры сформировались сразу после Большого взрыва, когда Вселенная была всего-почти в миллиард лет.\n\n< ... >"},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "Черные дыры возникают при гравитационном коллапсе массивных звезд малой массы или сверхмассивных черных дыр в центрах галактик. В результате такого коллапса образуется горизонт событий черной дыры — воображаемая сфера вокруг ее центра. Горизонт событий ограничивает падающий на черную дыру свет по всем направлениям, кроме направления к центру черной дыры. При этом падающий наблюдатель видит только события, происходящие внутри горизонта событий. Таким образом, наблюдатель изнутри горизонта событий не может видеть ничего за его пределами. Все объекты вблизи горизонта событий испаряются благодаря излучению Хокинга."},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Конечно, я могу рассказать вам о черных дырах. Черные дыры - это области космического пространства, в которых гравитация настолько сильна, что ничто, даже свет, не может избежать их захвата. Они образуются в результате коллапса массивных звезд, когда ядра звезды становятся слишком тяжелыми и не могут устоять под давлением своей собственной гравитации.\n\nЧерные дыры могут иметь разные размеры, от нескольких раз массы Солнца до миллионов и миллиардов раз массы Солнца. Существуют два основных типа черных дыр: черные дыры с обычной массой, которые образуются в результате коллапса массивных звезд, и сверхмассивные черные дыры, находящиеся в центрах галактик и имеющие массу миллионов и миллиардов масс Солнца.\n\nЧерные дыры могут взаимодействовать с окружающими объектами, исказая их орбиты и захватывая материал, что делает их важными объектами для астрофизических исследований. Кроме того, черные дыры также являются ключевыми элементами в теории относительности Альберта Эйнштейна и играют важную роль в изучении структуры и эволюции вселенной."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Конечно, черные дыры — это области в космическом пространстве с такой мощной гравитацией, что ничто, даже свет, не может покинуть их пределы. Гравитация настолько сильна из-за того, что материя была сжата в очень маленький объем. Это может происходить в конце жизненного цикла звезды, если она достаточно велика.\n\nКогда большая звезда исчерпывает свое топливо, она может испытать гравитационный коллапс, в результате чего ее ядро сжимается до точки с невероятно высокой плотностью, образуя черную дыру. Существуют различные типы черных дыр: маломассивные, стелларные, сверхмассивные и промежуточные. Их изучение помогает ученым понять законы физики, включая теорию относительности Эйнштейна."},
        {tab: 'GigaChat', name: 'Результат', code: "Конечно! Черные дыры возникают из-за коллапса звезды, когда ее ядро становится настолько плотным, что притяжение своей собственной массы делает его недоступным для света и других частиц. В результате образуется область с очень высокой плотностью, называемая сингулярностью."},
    ]
    return <CodeTabs list={list} />;
}

<Results14 />

Теперь попробуем изменить стиль реплик помощника — попросим систему давать более доступные ответы.

<Code filename="Промт">{"Это будет диалог с искусственным интеллектом (ИИ) — помощником ученого. Ответы помощника должны быть понятны даже ученикам начальной школы.\n\nЧеловек: Здравствуйте, кто вы?\nИИ: Приветствую! Я искусственный интеллект — помощник ученого. Что я могу сегодня для вас сделать?\n\nЧеловек: Вы можете рассказать мне о возникновении черных дыр?\nИИ:"}</Code>

export function Results15() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "Да, я могу рассказать о черных дырах. Черные дыры образуются в результате гравитационного коллапса массивных звёзд, которые теряют свою энергию во время коллапса и накопивается больше и больше материи, захватывая всё ещё более глубокий пространство, пока не формируется чёрная дыра. Внутри чёрной дыры есть такая область в пространстве, где все объекты падают во внутреннюю часть чёрной дыры, но так никогда и никуда не вылетает из неё.\n\n< ... >"},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "Да, конечно. Черные дыры образуются в результате коллапса звезд. Они могут представлять как опасность, так и пользу для космических путешествий. В зависимости от массы черной дыры и ее расположения космические корабли смогут использовать их гравитационное поле или избегать его. Кроме того, черные дыры можно использовать для получения энергии. Например, если мы сможем захватить черную дыру...\n\n< ... >"},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Конечно! Черные дыры — это очень таинственные места в космосе. Они образуются, когда очень большие звезды умирают. Звезда взрывается или коллапсирует, и если она слишком большая, остается черная дыра. Черная дыра имеет такое сильное гравитационное поле, что ничто, даже свет, не может уйти от нее. Поэтому они называются \"черными\" дырами. Они интересны для ученых и учат нас больше о космосе."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Конечно! Черные дыры — это очень тяжелые и компактные объекты в космосе. Они образуются, когда очень большие звезды в конце своей жизни взрываются и затем сжимаются, или \"коллапсируют\", в очень маленький объем. Это как если бы мы сжали Землю до размера маленького яблока, и она стала бы невероятно тяжелой. Гравитация у черных дыр такая сильная, что даже свет не может улететь от них, и поэтому мы их не видим, они черные."},
        {tab: 'GigaChat', name: 'Результат', code: "Конечно! Черные дыры возникают из-за коллапса очень большой звезды. Когда звезда стареет и исчерпывает свои запасы топлива, она начинает сжиматься. Если ее масса превышает определенную точку, то она становится настолько плотной, что ничто не может уйти из ее гравитационного поля. Это создает точку бесконечной плотности, называемую сингулярностью. Все, что попадает в черную дыру, поглощается ею и не может выбраться. Вот почему они называются \"черными\"."},
    ]
    return <CodeTabs list={list} />;
}

<Results15 />

Лексика стала чуть проще, но не вся; несколько уменьшилась длина предложений. В контексте целевой аудитории — ученики начальной школы — особенно подходящим выглядит ответ ChatGPT 4: простые слова, глагол «коллапсировать» семантизирован с помощью синонима, отличное образное сравнение черной дыры с Землей, сжатой до размеров маленького яблока. Если добавить разъяснение того, что такое «гравитация», будет идеально. Для улучшения других ответов можно попробовать скорректировать промт: например, добавить больше примеров.

-----

## Генерация программного кода

Область, в которых большие языковые модели показывают хорошую эффективность, — генерация программного кода. Превосходной демонстрацией этого является Copilot. Есть множество задач по генерации кода, которые можно решить с помощью тщательно продуманных промтов. Рассмотрим несколько примеров.

Для начала попробуем написать простую программу, которая приветствует пользователя.

<Code filename="Промт">{"\/\*\nСпросите у пользователя его имя и ответьте \"Привет\".\n\*\/"}</Code>

export function Results16() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "console.log(\"Hello World!\");\n\nlet name = prompt('What is your Name?');\nalert(`Hi ${name}!`);"},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "#include ltstdio.hgt\nnamespace std {\nint main(void){ /*Введите имя */\n printf(\"Привет, как тебя зовут?\\\n\");\n return 0; }\n}"},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Для выполнения этой задачи на языке программирования Python можно использовать функцию input() для запроса имени пользователя и затем вывести приветственное сообщение. Вот пример кода:\n\n# Запрос имени пользователя\nимя = input(\"Введите ваше имя: \")\n\n# Вывод приветственного сообщения\nprint \"Привет, \" + имя + \"!\")\n\nЭтот код сначала запрашивает у пользователя ввод его имени с помощью функции input(), затем использует оператор print() для вывода приветственного сообщения, в котором имя пользователя подставляется в строку."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Как тебя зовут?"},
        {tab: 'GigaChat', name: 'Результат', code: "Привет! Как вас зовут?"},
    ]
    return <CodeTabs list={list} />;
}

<Results16 />

Обратите внимание: мы не указывали в запросе, какой язык программирования использовать. Llama 2 и ChatGPT 3.5 интерпретировали промт в соответствии с нашими ожиданиями и написали код программы. Модель ruGPT-3.5 выдала результат, напоминающий программу. ChatGPT 4 и GigaChat проигнорировали форматирование и выполнили запрос буквально.

Перейдем на другой уровень. Следующий пример показывает результат, который можно получить от большой языковой модели, если приложить чуть больше усилий при разработке промтов.

<Code filename="Промт">{"\"\"\"\nТаблица departments, columns = [DepartmentID, DepartmentName]\nТаблица students, columns = [DepartmentID, StudentID, StudentName]\nСоздайте SQL-запрос для выбора всех студентов факультета гуманитарного образования\n\"\"\""}</Code>

export function Results17() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "from mysql.connector import Connection, Error\n\ndef select_hum_students(conn):\n    with conn:\n        cursor = conn.cursor()\n        sql = \"SELECT students.StudentID, students.StudentName FROM students JOIN departments ON students.DepartmentID = departments.DepartmentID WHERE departmentName = 'humanities'\"\n        try:\n            cursor.execute(sql)\n            result = cursor.fetchall()\n            return result\n        except Error as e:\n            print(\"Error %d: %s\", e.args[0], e.args[1]) # Получение ошибок в строку\n            return None  # Возврат None если что-то пошло не так и мы хотим вернуть ответ\n\n< ... >"},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "select department from \"A\", \"B\", \"C\" where DEPARTMENT_NAME='\"А\",\"Б\",\"В\",\"Г' and GENERATION=\"1\";\"\"\" ;"},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Для выбора всех студентов факультета гуманитарного образования, вам нужно выполнить SQL-запрос с использованием оператора JOIN, чтобы объединить таблицы \"departments\" и \"students\" по столбцу \"DepartmentID\" и затем добавить условие для выбора студентов с факультетом гуманитарного образования. Вот SQL-запрос для этой задачи:\n\nSELECT s.StudentID, s.StudentName\nFROM students s\nINNER JOIN departments d ON s.DepartmentID = d.DepartmentID\nWHERE d.DepartmentName = 'гуманитарное образование';\n\nЭтот запрос выберет всех студентов, чей факультет имеет название \"гуманитарное образование\"."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Для выбора всех студентов факультета гуманитарных наук с использованием SQL, вам нужно написать запрос, который объединяет таблицы departments и students с помощью оператора JOIN и использует условие фильтрации WHERE для спецификации нужного факультета. Вот пример такого запроса:\n\nSELECT s.StudentID, s.StudentName\nFROM students s\nJOIN departments d ON s.DepartmentID = d.DepartmentID\nWHERE d.DepartmentName = 'Гуманитарное образование';\n\nЭтот запрос выберет идентификаторы и имена студентов (StudentID, StudentName) из таблицы students, которые имеют соответствующий DepartmentID в таблице departments, где DepartmentName равно 'Гуманитарное образование'."},
        {tab: 'GigaChat', name: 'Результат', code: "Для выбора всех студентов факультета гуманитарного образования из таблицы students можно использовать следующий SQL-запрос:\n\nSELECT * FROM students WHERE DepartmentID = 'гуманитарное образование';\n\nВ данном запросе мы выбираем все столбцы из таблицы students, где значение в столбце DepartmentID равно 'гуманитарное образование'. Обратите внимание, что в запросе используется одинарная кавычка вокруг значения 'гуманитарное образование', так как это строковое значение. Если бы значение было числовым, то запрос выглядел бы иначе."},
    ]
    return <CodeTabs list={list} />;
}

<Results17 />

В этом примере мы предоставили данные о схеме базы данных и попросили сгенерировать корректный SQL-запрос. Модель ruGPT-3.5 выдала текст, напоминающий SQL-запрос. GigaChat в SQL-запросе проигнорировал наличие второй таблицы. Остальные результаты можно использовать для дальнейшей работы.

-----

## Задачи на логику

Задачи, в которых требуется способность рассуждать и делать выводы, возможно, являются наиболее сложными для современных БЯМ. Прогресс в этой области может открыть новые перспективы для комплексного прикладного использования больших языковых моделей.

В решении заданий, связанных с математическими способностями, наблюдается некоторый прогресс, однако задачи на логику по-прежнему даются языковым моделям нелегко. Для этих задач требуются еще более продвинутые методы составления промтов — мы разберем их в следующем руководстве. А пока рассмотрим несколько простых примеров для демонстрации арифметических способностей моделей.

<Code filename="Промт">{"Сколько будет 9000 * 9000?\nРезультат:"}</Code>

export function Results18() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "81000000."},
        {tab: 'ruGPT-3.5 13B', name: 'Результат', code: "9000000000000"},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Результат умножения 9000 на 9000 равен 81 000 000 (восемьдесят один миллион)."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Результат умножения 9000 на 9000 равен 81,000,000."},
        {tab: 'GigaChat', name: 'Результат', code: "9000 * 9000 = 810000"},
    ]
    return <CodeTabs list={list} />;
}

<Results18 />

GigaChat и ruGPT-3.5 не смогли правильно вычислить произведение, а ChatGPT 4 решил задачу, сгенерировав код на Python и выполнив его.

Попробуем что-нибудь посложнее. Напомним, что Llama 2 13B с этой задачей не справилась, поэтому далее в примере она используется с подключенным адаптером. Модель ruGPT-3.5 также не смогла решить задачу, но адаптера для нее пока нет.

<Code filename="Промт">{"Если сложить нечетные числа этого множества, получится нечетное число: 15, 32, 5, 13, 82, 7, 1.\nОтвет:"}</Code>

export function Results19() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "Неверно. Сумма нечетных чисел равна 24. Это четное число."},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Давайте сложим все нечетные числа из данного множества:\n\n15 + 5 + 13 + 7 + 1 = 41\n\nПолученное число, 41, является нечетным числом, что подтверждает ваше утверждение."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Чтобы узнать, верно ли утверждение, нам нужно сложить все нечетные числа из данного множества и проверить, является ли сумма нечетным числом. Нечетные числа в множестве: 15, 5, 13, 7, 1. Сложим их:\n\n15 + 5 + 13 + 7 + 1 = 41\n\nСумма нечетных чисел равна 41, и это число нечетное. Утверждение верно."},
        {tab: 'GigaChat', name: 'Результат', code: "Да, если сложить все эти нечетные числа вместе, получится нечетное число."},
    ]
    return <CodeTabs list={list} />;
}

<Results19 />

ChatGPT решил задачу правильно, GigaChat дал правильный, но непроверяемый ответ, а вот Llama 2 ошиблась. Попробуем улучшить результат, изменив промт.

<Code filename="Промт">{"Если сложить нечетные числа этого множества, получится нечетное число: 15, 32, 5, 13, 82, 7, 1.\nДля проверки выполните действия по порядку. Сначала найдите все нечетные числа, затем сложите их и определите, четным или нечетным является результат."}</Code>

export function Results20() {
    const list = [
        {tab: 'Llama 2 13B', name: 'Результат', code: "Нечетные числа: 15, 5, 13, 7, 1. Сумма: 15 + 5 + 13 + 7 + 1 = 41 — это нечетное число."},
        {tab: 'ChatGPT 3.5', name: 'Результат', code: "Давайте начнем с определения нечетных чисел в данной группе. Нечетные числа - это числа, которые не делятся нацело на 2. В данной группе чисел нечетными являются числа 15, 5, 13, 7 и 1.\n\nТеперь сложим эти нечетные числа:\n15 + 5 + 13 + 7 + 1 = 41\n\nРезультат суммы этих нечетных чисел равен 41.\n\nТеперь проверим, является ли это число четным или нечетным. Для этого нужно разделить сумму на 2 и посмотреть, делится ли она нацело или нет.\n\n41 ÷ 2 = 20 с остатком 1\n\nРезультат деления 41 на 2 равен 20 с остатком 1. Поскольку есть остаток, это означает, что число 41 - нечетное.\n\nИтак, сумма нечетных чисел в данной группе чисел равна 41, и она является нечетной."},
        {tab: 'ChatGPT 4', name: 'Результат', code: "Шаг 1: Определение нечетных чисел в данной группе.\n\nНечетные числа в группе: 15, 5, 13, 7, 1.\n\nШаг 2: Сложение нечетных чисел.\n\n15 + 5 + 13 + 7 + 1 = 41.\n\nШаг 3: Определение четности суммы нечетных чисел.\n\n41 – это нечетное число.\n\nИтак, сумма нечетных чисел в данной группе – нечетное число."},
        {tab: 'GigaChat', name: 'Результат', code: "Давайте решим эту задачу поэтапно.\n\n1. Определим нечетные числа в данной группе: 15, 32, 5, 13, 82, 7, 1.\n\n2. Суммируем эти числа: 15 + 32 + 5 + 13 + 82 + 7 + 1 = 206.\n\n3. Чтобы определить, является ли сумма нечетной или четной, нужно проверить, делится ли она нацело на 2 (четное число).\n\n4. В данном случае, сумма не делится нацело на 2, так как остаток от деления равен 1.\n\nТаким образом, ответ на задачу: сумма нечетных чисел в данной группе является нечетным числом."},
    ]
    return <CodeTabs list={list} />;
}

<Results20 />

Уже лучше, но справились не все — GigaChat не смог решить задачу. Также отметим, что этот способ работает далеко не всегда – ошибается и Llama 2, и ChatGPT 3.5.

В следующем разделе мы рассмотрим еще более продвинутые концепции и методы разработки промтов, которые помогут увеличить эффективность решения задач различной степени сложности.
